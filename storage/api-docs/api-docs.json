{
    "openapi": "3.0.0",
    "info": {
        "title": "API для управления студентами, классами и лекциями",
        "version": "1.0"
    },
    "paths": {
        "/api/": {},
        "/api/lectures": {
            "get": {
                "tags": [
                    "Lectures"
                ],
                "summary": "Получить список всех лекций",
                "operationId": "91863ee34b872ea123355cc2423a40da",
                "responses": {
                    "200": {
                        "description": "Успешный ответ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Lecture"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Lectures"
                ],
                "summary": "Создать лекцию",
                "operationId": "9b39872f2fe89a73d8bb84091e9ddf0b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreLectureRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Лекция создана",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Lecture"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации"
                    }
                }
            }
        },
        "/api/lectures/{id}": {
            "get": {
                "tags": [
                    "Lectures"
                ],
                "summary": "Получить информацию о конкретной лекции",
                "operationId": "0b3e6ad31febe5d6c9b241b3f35ff39e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Успешный ответ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer"
                                        },
                                        "topic": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        },
                                        "classes": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "order": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "students": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "email": {
                                                        "type": "string"
                                                    },
                                                    "class": {
                                                        "type": "string",
                                                        "nullable": true
                                                    },
                                                    "listened_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Лекция не найдена"
                    }
                }
            },
            "put": {
                "tags": [
                    "Lectures"
                ],
                "summary": "Обновить лекцию",
                "operationId": "e9518d236b3e11e73f306c98a0f90dc0",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateLectureRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Лекция обновлена",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Lecture"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Лекция не найдена"
                    },
                    "422": {
                        "description": "Ошибка валидации"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Lectures"
                ],
                "summary": "Удалить лекцию",
                "operationId": "9428f55db7e50cc1ae3cd2ab92adc77b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Лекция удалена"
                    },
                    "404": {
                        "description": "Лекция не найдена"
                    }
                }
            }
        },
        "/api/classes": {
            "get": {
                "tags": [
                    "Classes"
                ],
                "summary": "Получить список всех классов",
                "operationId": "1ea478be0955b21841689b73bb18c03b",
                "responses": {
                    "200": {
                        "description": "Успешный ответ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/StudentClass"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Classes"
                ],
                "summary": "Создать класс",
                "operationId": "7deb499f28967400f4e21c7993d30d72",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "10-A"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Класс создан",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StudentClass"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации"
                    }
                }
            }
        },
        "/api/classes/{id}": {
            "get": {
                "tags": [
                    "Classes"
                ],
                "summary": "Получить информацию о конкретном классе",
                "operationId": "7a0f9a169189cf59ccec56d59d643abc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Успешный ответ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/StudentClass"
                                        },
                                        "students": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Student"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Класс не найден"
                    }
                }
            },
            "put": {
                "tags": [
                    "Classes"
                ],
                "summary": "Обновить класс",
                "operationId": "884647da0568faf7dc09d48b272d4f19",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "10-B"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Класс обновлен",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/StudentClass"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Класс не найден"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Classes"
                ],
                "summary": "Удалить класс",
                "operationId": "70cb1e83754f4de1b8dcab6a77699b3d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Класс удален"
                    },
                    "404": {
                        "description": "Класс не найден"
                    }
                }
            }
        },
        "/api/classes/{id}/curriculum": {
            "get": {
                "tags": [
                    "Classes"
                ],
                "summary": "Получить учебный план класса",
                "operationId": "c3f79adba20565885f7e68716fc9eeb7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Учебный план",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/StudentClass"
                                        },
                                        "lectures": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "topic": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "order": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Класс не найден"
                    }
                }
            },
            "put": {
                "tags": [
                    "Classes"
                ],
                "summary": "Обновить учебный план класса",
                "operationId": "6eb76ccd3a0752961d14e4de79a0908c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateClassCurriculumRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Учебный план обновлен",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer"
                                            },
                                            "topic": {
                                                "type": "string"
                                            },
                                            "description": {
                                                "type": "string"
                                            },
                                            "order": {
                                                "type": "integer"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Класс не найден"
                    },
                    "422": {
                        "description": "Ошибка валидации"
                    }
                }
            }
        },
        "/api/students": {
            "get": {
                "tags": [
                    "Students"
                ],
                "summary": "Получить список всех студентов",
                "operationId": "ea63bf4dd71d5b07e457e9c1f86a5f48",
                "responses": {
                    "200": {
                        "description": "Успешный ответ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Student"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Students"
                ],
                "summary": "Создать студента",
                "operationId": "517b42e732f558e5f11885d11ead9be5",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreStudentRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Студент создан",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Student"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации"
                    }
                }
            }
        },
        "/api/students/{id}": {
            "get": {
                "tags": [
                    "Students"
                ],
                "summary": "Получить информацию о конкретном студенте",
                "operationId": "38806f18ebd0743308833c09a0c201f6",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Успешный ответ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Student"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Студент не найден"
                    }
                }
            },
            "put": {
                "tags": [
                    "Students"
                ],
                "summary": "Обновить студента",
                "operationId": "db547712a1caf50ee1a525d93d9d9181",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateStudentRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Студент обновлен",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Student"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Студент не найден"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Students"
                ],
                "summary": "Удалить студента",
                "operationId": "3e1c01a7953da510160724c5f6ba7a8e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Студент удален"
                    },
                    "404": {
                        "description": "Студент не найден"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "StoreLectureRequest": {
                "required": [
                    "topic",
                    "description"
                ],
                "properties": {
                    "topic": {
                        "type": "string",
                        "example": "Математика: Алгебра"
                    },
                    "description": {
                        "type": "string",
                        "example": "Основы алгебраических выражений"
                    }
                },
                "type": "object"
            },
            "UpdateLectureRequest": {
                "properties": {
                    "topic": {
                        "type": "string",
                        "example": "Математика: Алгебра"
                    },
                    "description": {
                        "type": "string",
                        "example": "Основы алгебраических выражений"
                    }
                },
                "type": "object"
            },
            "StoreStudentClassRequest": {
                "required": [
                    "name"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "10-A"
                    }
                },
                "type": "object"
            },
            "UpdateClassCurriculumRequest": {
                "required": [
                    "lectures"
                ],
                "properties": {
                    "lectures": {
                        "type": "array",
                        "items": {
                            "required": [
                                "lecture_id",
                                "order"
                            ],
                            "properties": {
                                "lecture_id": {
                                    "type": "integer",
                                    "example": 1
                                },
                                "order": {
                                    "type": "integer",
                                    "example": 0
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "type": "object"
            },
            "UpdateStudentClassRequest": {
                "required": [
                    "name"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "10-B"
                    }
                },
                "type": "object"
            },
            "StoreStudentRequest": {
                "required": [
                    "name",
                    "email"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Иван Иванов"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "ivan@example.com"
                    },
                    "student_class_id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UpdateStudentRequest": {
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Иван Иванов"
                    },
                    "student_class_id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "Lecture": {
                "title": "Lecture",
                "description": "Модель лекции",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "topic": {
                        "type": "string",
                        "example": "Математика: Алгебра"
                    },
                    "description": {
                        "type": "string",
                        "example": "Основы алгебраических выражений"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Student": {
                "title": "Student",
                "description": "Модель студента",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Иван Иванов"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "ivan@example.com"
                    },
                    "student_class_id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "StudentClass": {
                "title": "StudentClass",
                "description": "Модель класса",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "10-A"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            }
        }
    },
    "tags": [
        {
            "name": "Lectures",
            "description": "Управление лекциями"
        },
        {
            "name": "Classes",
            "description": "Управление классами"
        },
        {
            "name": "Students",
            "description": "Управление студентами"
        }
    ]
}